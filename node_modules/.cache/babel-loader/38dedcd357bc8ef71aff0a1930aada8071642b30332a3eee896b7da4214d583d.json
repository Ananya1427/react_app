{"ast":null,"code":"var _jsxFileName = \"/Users/venkat/Downloads/React/Food_App/react_app/src/Components/Cards/ProductCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport './card.css';\nimport Modal from './Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product,\n  handleClickEvent\n}) => {\n  _s();\n  const {\n    cart\n  } = useSelector(state => ({\n    ...state\n  }));\n  const location = useLocation();\n  const [count, setCount] = useState(1);\n  const [selection, setSelection] = useState(0);\n  useEffect(() => {\n    fetchCountFromCart();\n  }, [cart]);\n  const handleRoute = option => {\n    let routes = option.split(' ');\n    return `${routes.length > 1 ? routes.map(route => route.toLowerCase()).join('-') : routes[0].toLowerCase()}`;\n  };\n  const handleAddProduct = obj => {\n    handleClickEvent(obj);\n  };\n  const handleDeleteProduct = obj => {\n    handleClickEvent(obj);\n  };\n  const fetchCountFromCart = () => {\n    let item = cart && cart.products.find(prod => prod.productId === product._id);\n    setCount(item && item.count || 0);\n    setSelection(item && item.count || 0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card col-10 col-lg-3 my-3 mx-2 p-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.images[0].urls[0].url,\n      className: \"card-img-top\",\n      alt: \"...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body text-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"card-title\",\n        children: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text\",\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"$\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), location.pathname === '/' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-footer text-start\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn rounded-0 no-border w-50\",\n        to: `/view-product/${handleRoute(product.title)}`,\n        children: \"View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn rounded-0 border-0 w-50\",\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": `#static-backdrop-${product._id}`,\n        children: count > 0 ? `Edit Cart(${count})` : 'Add to Cart'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        onClickEvent: handleAddProduct,\n        onClickCancel: fetchCountFromCart,\n        product: product,\n        count: count,\n        setCount: setCount,\n        setSelection: setSelection,\n        selection: selection,\n        title: `Select number of ${product.title}`,\n        btnTitle: 'Add to Cart'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-footer text-start\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn rounded-0 no-border w-50\",\n        to: `/update-product/${handleRoute(product.title)}`,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn rounded-0 border-0 w-50\",\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": `#static-backdrop-${product._id}`,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        onClickEvent: handleDeleteProduct,\n        product: product,\n        title: `Do yo want to delete ${product.title} ?`,\n        btnTitle: 'Delete'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductCard, \"juVS30Wq4MTwie2nlUL8bvdisb4=\", false, function () {\n  return [useSelector, useLocation];\n});\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useSelector","Modal","jsxDEV","_jsxDEV","ProductCard","product","handleClickEvent","_s","cart","state","location","count","setCount","selection","setSelection","fetchCountFromCart","handleRoute","option","routes","split","length","map","route","toLowerCase","join","handleAddProduct","obj","handleDeleteProduct","item","products","find","prod","productId","_id","className","children","src","images","urls","url","alt","fileName","_jsxFileName","lineNumber","columnNumber","title","description","price","pathname","to","type","onClickEvent","onClickCancel","btnTitle","_c","$RefreshReg$"],"sources":["/Users/venkat/Downloads/React/Food_App/react_app/src/Components/Cards/ProductCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport './card.css';\nimport Modal from './Modal';\n\nconst ProductCard = ({ product, handleClickEvent }) => {\n    const { cart } = useSelector(state => ({ ...state }));\n    const location = useLocation();\n\n    const [count, setCount] = useState(1);\n    const [selection, setSelection] = useState(0);\n\n    useEffect(() => {\n        fetchCountFromCart();\n    }, [cart])\n\n    const handleRoute = (option) => {\n        let routes = option.split(' ');\n        return `${routes.length > 1 ? routes.map(route => route.toLowerCase()).join('-') : routes[0].toLowerCase()}`;\n    }\n\n    const handleAddProduct = (obj) => {\n        handleClickEvent(obj);\n    }\n\n    const handleDeleteProduct = (obj) => {\n        handleClickEvent(obj);\n    }\n\n    const fetchCountFromCart = () => {\n        let item = cart && cart.products.find(prod => prod.productId === product._id);\n        setCount(item && item.count || 0);\n        setSelection(item && item.count || 0);\n    }\n\n    return (\n        <div className='card col-10 col-lg-3 my-3 mx-2 p-0'>\n            <img src={product.images[0].urls[0].url} className='card-img-top' alt='...' />\n            <div className='card-body text-start'>\n                <h5 className='card-title'>{product.title}</h5>\n                <p className='card-text'>{product.description}</p>\n                <span>&#36;{product.price}</span>\n            </div>\n            {location.pathname === '/' ?\n                <div className='card-footer text-start'>\n                    <Link className='btn rounded-0 no-border w-50' to={`/view-product/${handleRoute(product.title)}`}>View</Link>\n                    <button type='button' className='btn rounded-0 border-0 w-50' data-bs-toggle='modal' data-bs-target={`#static-backdrop-${product._id}`}>\n                        {count > 0 ? `Edit Cart(${count})` : 'Add to Cart'}\n                    </button>\n                    <Modal\n                        onClickEvent={handleAddProduct}\n                        onClickCancel={fetchCountFromCart}\n                        product={product}\n                        count={count}\n                        setCount={setCount}\n                        setSelection={setSelection}\n                        selection={selection}\n                        title={`Select number of ${product.title}`}\n                        btnTitle={'Add to Cart'}\n                    />\n                </div>\n                :\n                <div className='card-footer text-start'>\n                    <Link className='btn rounded-0 no-border w-50' to={`/update-product/${handleRoute(product.title)}`}>Edit</Link>\n                    <button type='button' className='btn rounded-0 border-0 w-50' data-bs-toggle='modal' data-bs-target={`#static-backdrop-${product._id}`}>\n                        Delete\n                    </button>\n                    <Modal\n                        onClickEvent={handleDeleteProduct}\n                        product={product}\n                        title={`Do yo want to delete ${product.title} ?`}\n                        btnTitle={'Delete'}\n                    />\n                </div>}\n        </div>\n    )\n}\n\nexport default ProductCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}