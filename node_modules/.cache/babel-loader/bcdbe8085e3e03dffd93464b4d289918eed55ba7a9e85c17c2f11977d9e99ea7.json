{"ast":null,"code":"var _jsxFileName = \"/Users/venkat/Downloads/React/Food_App/react_app/src/Pages/Partner/DisplayImages.js\",\n  _s = $RefreshSig$();\nimport { useSelector } from 'react-redux';\nimport { Avatar, Badge } from 'antd';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DisplayImgaes = ({\n  images,\n  setImages\n}) => {\n  _s();\n  const {\n    user\n  } = useSelector(state => ({\n    ...state\n  }));\n  const [loading, setLoading] = useState(false);\n  const handleImageRemove = public_id => {\n    let idToken = user ? user.token : '';\n    setLoading(true);\n    axios.post(`${process.env.REACT_APP_API}/removeimage`, {\n      public_id\n    }, {\n      headers: {\n        idToken\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        toast.success(res.data.message);\n        const {\n          urls\n        } = images;\n        let filteredImages = urls.filter(item => {\n          return item.public_id !== public_id;\n        });\n        setImages({\n          ...images,\n          urls: filteredImages\n        });\n        localStorage.setItem('uploadedImages', {\n          ...images,\n          urls: filteredImages\n        });\n      } else {\n        toast.error(res.data.message);\n      }\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n      toast.error(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: images && images.urls && images.urls.map(image => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Badge, {\n        count: \"X\",\n        onClick: () => handleImageRemove(image.public_id),\n        style: {\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: image.url,\n          size: 100,\n          shape: \"square\",\n          className: \"ml-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)\n      }, image.public_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this)\n    }, void 0, false))\n  }, void 0, false);\n};\n_s(DisplayImgaes, \"bKYurygciIh9ANN/HDPrLSrSEyw=\", false, function () {\n  return [useSelector];\n});\n_c = DisplayImgaes;\nexport default DisplayImgaes;\nvar _c;\n$RefreshReg$(_c, \"DisplayImgaes\");","map":{"version":3,"names":["useSelector","Avatar","Badge","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","DisplayImgaes","images","setImages","_s","user","state","loading","setLoading","useState","handleImageRemove","public_id","idToken","token","post","process","env","REACT_APP_API","headers","then","res","status","success","data","message","urls","filteredImages","filter","item","localStorage","setItem","error","catch","children","map","image","count","onClick","style","cursor","src","url","size","shape","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/venkat/Downloads/React/Food_App/react_app/src/Pages/Partner/DisplayImages.js"],"sourcesContent":["import { useSelector } from 'react-redux';\nimport { Avatar, Badge } from 'antd';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst DisplayImgaes = ({ images, setImages }) => {\n    const { user } = useSelector((state) => ({ ...state }));\n    const [loading, setLoading] = useState(false);\n\n    const handleImageRemove = (public_id) => {\n        let idToken = user ? user.token : '';\n        setLoading(true);\n        axios\n            .post(\n                `${process.env.REACT_APP_API}/removeimage`,\n                { public_id },\n                {\n                    headers: {\n                        idToken\n                    },\n                }\n            )\n            .then((res) => {\n                if (res.status === 200) {\n                    toast.success(res.data.message);\n                    const { urls } = images;\n                    let filteredImages = urls.filter((item) => {\n                        return item.public_id !== public_id;\n                    });\n                    setImages({ ...images, urls: filteredImages });\n                    localStorage.setItem('uploadedImages', { ...images, urls: filteredImages });\n                } else {\n                    toast.error(res.data.message);\n                }\n                setLoading(false);\n            })\n            .catch((error) => {\n                setLoading(false);\n                toast.error(error);\n\n            });\n    };\n\n\n    return(\n        <>\n            {images && images.urls &&\n            images.urls.map((image) => (\n                <>\n                    <Badge\n                        count='X'\n                        key={image.public_id}\n                        onClick={() => handleImageRemove(image.public_id)}\n                        style={{ cursor: 'pointer' }}\n                    >\n                        <Avatar\n                            src={image.url}\n                            size={100}\n                            shape='square'\n                            className='ml-3'\n                        />\n                    </Badge>\n                </>\n            ))}\n        </>\n    )\n}\n\nexport default DisplayImgaes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}